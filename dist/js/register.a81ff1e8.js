"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[224],{736:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"recorver"},[s("router-view")],1)},r=[],i={},l=i,n=s(1656),o=(0,n.A)(l,a,r,!1,null,null,null),u=o.exports},2333:function(e,t,s){s.d(t,{A:function(){return u}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("div",[s("i",{staticClass:"iconfont icon-fanhui",on:{click:e.goBack}})]),s("div",[e._t("default",(function(){return[s("span",[e._v("登录")])]}))],2),e._m(0)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("i",{staticClass:"iconfont icon-kefu"})])}],i={methods:{goBack(){this.$router.back()}}},l=i,n=s(1656),o=(0,n.A)(l,a,r,!1,null,"137107e0",null),u=o.exports},5531:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login container"},[s("Header",[s("span",[e._v("注册")])]),s("section",[s("div",{staticClass:"login-tel"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:e.userTel},on:{input:function(t){t.target.composing||(e.userTel=t.target.value)}}})]),s("div",{staticClass:"login-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.telCode,expression:" telCode"}],attrs:{type:"text",placeholder:"请输入短信验证码",pattern:"[0-9]*"},domProps:{value:e.telCode},on:{input:function(t){t.target.composing||(e.telCode=t.target.value)}}}),s("button",{attrs:{disabled:e.disabled},on:{click:e.sendCode}},[e._v(e._s(e.codeMsg))])]),s("div",{staticClass:"login-tel"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPwd,expression:"userPwd"}],attrs:{type:"text",placeholder:"请设置密码",pattern:"[0-9]*"},domProps:{value:e.userPwd},on:{input:function(t){t.target.composing||(e.userPwd=t.target.value)}}})]),s("div",{staticClass:"login-btn",on:{click:e.register}},[e._v("注 册")])]),s("Tabbar")],1)},r=[],i=s(9930),l=s(2333),n=s(3890),o=s(6483),u={data(){return{disabled:!1,userTel:"",userPwd:"",telCode:"",rules:{userTel:{rule:/^1[23456789]\d{9}$/,msg:"手机号不能为空，并且是11位数字"},userPwd:{rule:/^\w{6,12}$/,msg:"密码不能为空，并且是6-12位"}},time:6,codeMsg:"获取短信验证码",code:""}},components:{Tabbar:i.A,Header:l.A},methods:{register(){this.validate("userPwd")&&(this.code==this.telCode?n.A.$axios({url:"/api/register",method:"POST",data:{userTel:this.userTel,userPwd:this.userPwd}}).then((e=>{console.log(e)})):(0,o.Toast)("验证码错误"))},sendCode(){this.validate("userTel")&&n.A.$axios({url:"/api/code",method:"POST",data:{phone:this.userTel}}).then((e=>{this.code=e.data.data.data,this.disabled=!0;let t=setInterval((()=>{--this.time,this.codeMsg=`重新发送 ${this.time}`}),1e3);setTimeout((()=>{clearInterval(t),this.time=6,this.disabled=!1,this.codeMsg="获取短信验证码"}),6e3)}))},validate(e){let t=!0;return this.rules[e].rule.test(this[e])||((0,o.Toast)(this.rules[e].msg),t=!1),t}}},d=u,c=s(1656),v=(0,c.A)(d,a,r,!1,null,"c44edfd0",null),h=v.exports}}]);
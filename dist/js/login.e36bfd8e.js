"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[966],{2333:function(e,t,s){s.d(t,{A:function(){return d}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("div",[s("i",{staticClass:"iconfont icon-fanhui",on:{click:e.goBack}})]),s("div",[e._t("default",(function(){return[s("span",[e._v("登录")])]}))],2),e._m(0)])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("i",{staticClass:"iconfont icon-kefu"})])}],o={methods:{goBack(){this.$router.back()}}},n=o,r=s(1656),l=(0,r.A)(n,a,i,!1,null,"137107e0",null),d=l.exports},6309:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login container"},[s("Header"),s("section",[s("div",{staticClass:"login-tel"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:e.userTel},on:{input:function(t){t.target.composing||(e.userTel=t.target.value)}}})]),s("div",{staticClass:"login-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.telCode,expression:"telCode"}],attrs:{type:"text",placeholder:"请输入短信验证码",pattern:"[0-9]*"},domProps:{value:e.telCode},on:{input:function(t){t.target.composing||(e.telCode=t.target.value)}}}),s("button",{attrs:{disabled:e.disabled},on:{click:e.getCode}},[e._v(e._s(e.codeMsg))])]),s("div",{staticClass:"login-btn",on:{click:e.login}},[e._v("登 录")]),s("div",{staticClass:"tab"},[s("span",{on:{click:e.goUserLogin}},[e._v("密码登录")]),s("span",{on:{click:e.goRegister}},[e._v("快速注册")])])]),s("Tabbar")],1)},i=[],o=(s(4114),s(9930)),n=s(2333),r=s(3890),l=s(6483),d=s(3518),u={data(){return{disabled:!1,userTel:"",telCode:"",code:"",time:6,codeMsg:"获取短信验证码",rules:{userTel:{rule:/^1[23456789]\d{9}$/,msg:"手机号不能为空,并且是11位数字"}}}},components:{Tabbar:o.A,Header:n.A},methods:{...(0,d.PY)(["USER_LOGIN"]),goUserLogin(){this.$router.push("/UserLogin")},getCode(){this.validate("userTel")&&r.A.$axios({url:"/api/code",method:"POST",data:{phone:this.userTel}}).then((e=>{this.code=e.data.data.data,this.disabled=!0;let t=setInterval((()=>{--this.time,this.codeMsg=`重新发送 ${this.time}`}),1e3);setTimeout((()=>{clearInterval(t),this.time=6,this.disabled=!1,this.codeMsg="获取短信验证码"}),6e3)}))},login(){this.code==this.telCode&&((0,l.Toast)("登录成功"),r.A.$axios({url:"/api/addUser",method:"POST",data:{phone:this.userTel}}).then((e=>{(0,l.Toast)(e.data.data.msg),e.data.data.success&&(this.USER_LOGIN(e.data.data.data),this.$router.push("/my"))})))},goRegister(){this.$router.push("/register")},validate(e){let t=!0;return this.rules[e].rule.test(this[e])||((0,l.Toast)(this.rules[e].msg),t=!1),t}}},c=u,h=s(1656),v=(0,h.A)(c,a,i,!1,null,"951821fe",null),g=v.exports}}]);
"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[165],{8247:function(e,t,s){s.d(t,{A:function(){return i}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("i",{staticClass:"iconfont icon-fanhui",on:{click:function(t){return e.$router.back()}}}),e._t("default",(function(){return[s("span",[e._v("我的地址")])]})),s("i",{staticClass:"iconfont icon-kefu"})],2)},r=[],n=s(1656),d={},o=(0,n.A)(d,a,r,!1,null,"7304b5eb",null),i=o.exports},4165:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"path-index container"},[s("Header",[e.isAdd?s("span",[e._v("添加地址")]):s("span",[e._v("编辑地址")])]),s("section",[e.isAdd?s("van-address-edit",{attrs:{"area-list":e.areaList,"show-set-default":"","show-search-result":"","search-result":e.searchResult},on:{save:e.onSave}}):s("van-address-edit",{attrs:{"address-info":e.AddressInfo,"area-list":e.areaList,"show-delete":"","show-set-default":"","show-search-result":""},on:{save:e.onUpdate,delete:e.onDelete}})],1),s("Tabbar")],1)},r=[],n=(s(4114),s(1981)),d=s(8247),o=s(9930),i=s(3890),l={data(){return{isAdd:!1,AddressInfo:{},areaList:{province_list:{11e4:"北京市",12e4:"天津市"},city_list:{110100:"北京市",120100:"天津市"},county_list:{110101:"东城区",110102:"西城区",120101:"塘沽区"}},searchResult:[]}},created(){let e=JSON.parse(this.$route.params.key);console.log(e),"add"==e?this.isAdd=!0:(e.isDefault=1==e.isDefault,this.AddressInfo=e)},components:{Header:d.A,Tabbar:o.A},methods:{onSave(e){console.log(e),e.isDefault=1==e.isDefault?1:0,i.A.$axios({url:"/api/addAddress",method:"POST",headers:{token:!0},data:{...e}}).then((e=>{(0,n.A)(e.data.msg),this.$router.push("/address")}))},onDelete(e){i.A.$axios({url:"/api/deleteAddress",method:"POST",headers:{token:!0},data:{...e}}).then((e=>{(0,n.A)(e.data.msg),this.$router.back()}))},onUpdate(e){console.log(e),i.A.$axios({url:"/api/updateAddress",method:"POST",data:{...e},headers:{token:!0}}).then((e=>{(0,n.A)(e.data.msg),this.$router.back()}))}}},u=l,c=s(1656),h=(0,c.A)(u,a,r,!1,null,"114df9b5",null),f=h.exports}}]);
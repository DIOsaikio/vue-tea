"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[715],{6538:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[t.isShow?s("Header"):t._e(),s("section",[s("div",{ref:"left",staticClass:"list-l"},[s("ul",{staticClass:"l-item"},t._l(t.leftList,(function(e,i){return s("li",{key:i,class:t.currentindex==i?"active":"",on:{click:function(e){return t.goScroll(i)}}},[t._v(" "+t._s(e.name))])})),0)]),s("div",{ref:"right",staticClass:"list-r"},[s("ul",{ref:"shop",staticClass:"shop-list"},t._l(t.rightList,(function(e,i){return s("li",{key:i,staticClass:"list-item"},[s("h2",[t._v(t._s(e.name))]),s("ul",{staticClass:"r-content"},t._l(e.list,(function(e,i){return s("li",{key:i},[s("img",{attrs:{src:e.imgUrl,alt:""}}),s("span",[t._v(t._s(e.name))])])})),0)])})),0)])]),s("Tabbar")],1)},l=[],a=(s(4114),s(9930)),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[t._m(0),s("div",{staticClass:"middle"},[s("form",{attrs:{action:"",onsubmit:"return false"}},[s("i",{staticClass:"iconfont icon-sousuo"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],attrs:{type:"text",placeholder:"搜索您喜欢的商品..."},domProps:{value:t.searchVal},on:{input:function(e){e.target.composing||(t.searchVal=e.target.value)}}})])]),t._m(1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("i",{staticClass:"iconfont icon-fanhui"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shouye"},[s("i",{staticClass:"iconfont icon-shouye"})])}],o={data(){return{searchVal:this.$route.query.keyword||"",searchArr:[]}},created(){},methods:{}},c=o,h=s(1656),u=(0,h.A)(c,r,n,!1,null,"18946fe2",null),f=u.exports,d=s(3890),m=s(414),g={name:"ListView",data(){return{isShow:!0,leftList:[],rightList:[],rightScroll:"",allHeight:[],scrollY:""}},computed:{currentindex(){return this.allHeight.findIndex(((t,e)=>this.scrollY>=t&&this.scrollY<this.allHeight[e+1]))}},created(){this.getData()},methods:{async getData(){let t=[],e=[],{data:s}=await d.A.$axios({url:"/api/goods/list"});s.data.forEach((s=>{t.push({id:s.id,name:s.name}),e.push(s.data)})),this.leftList=Object.freeze(t),this.rightList=Object.freeze(e),this.$nextTick((()=>{new m.Ay(this.$refs.left,{click:!0,movable:!0,zoom:!0,bounce:!1}),this.rightScroll=new m.Ay(this.$refs.right,{click:!0,movable:!0,zoom:!0,probeType:3,bounce:!1});let t=0;this.allHeight.push(t);let e=this.$refs.shop.getElementsByClassName("list-item");Array.from(e).forEach((e=>{t+=e.clientHeight,this.allHeight.push(t)})),console.log(this.allHeight),this.rightScroll.on("scroll",(t=>{Math.abs(t.y)>50?this.isShow=!1:this.isShow=!0,this.scrollY=Math.abs(t.y),console.log(this.scrollY)}))}))},goScroll(t){this.currentindex=t,console.log(t),this.rightScroll.scrollTo(0,-this.allHeight[t],300)}},components:{Tabbar:a.A,Header:f}},p=g,v=(0,h.A)(p,i,l,!1,null,"4a0ddcb9",null),_=v.exports}}]);